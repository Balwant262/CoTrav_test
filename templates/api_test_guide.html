{% extends 'main_base.html' %}

{% block description %}Sign Up with CoTrav in a matter of seconds and explore our wide range of services. {% endblock %}
{% block keywords %}{% endblock %}
{% block title %}Cotrav | Test Api{% endblock %}

{% block content %}

{% load static %}
{% include 'cotrav_alert_message.html' %}
 <div class="main-wrapper">
    <!-- start project section -->
       <section class="bg-very-light-gray">
        <div class="container">
            <div class="section-heading" >
                <h3 class="title-style2">CoTrav – Public API’s Test</h3>
            </div>

                            <h6>[-]Request</h6>
                              <div class="row">
                                <div class="col-lg-12">

                                    <div class="inner-box bg-white box-shadow-large padding-20px-all md-padding-15px-all sm-margin-20px-bottom">
                                        <!-- start contact form -->
                                        <div class="col-md-12 sm-margin-30px-bottom">
                                                <form method="post" action="/api-test-guide" class="registration-form section_signup">
                                                    <input type="hidden" name="current_url" value="{{ request.get_full_path }}">
                                                    <div class="row">
                                                        <div class="col-md-1">
                                                            <label class="medium-input input_signupform input_signup" >Method</label>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <select name="corporate_login_type" class="form-control" id="corporate_login_type" required style="color:gray; width: 100%; border-radius: 4px; font-size: 12px; margin-left: 16px;">
                                                            <option value="POST">POST</option>
                                                            </select>
                                                        </div>

                                                        <div class="col-md-1">
                                                            <label class="medium-input input_signupform input_signup" >URL</label>
                                                        </div>
                                                        <div class="col-md-8">
                                                             <select name="api_name" class="form-control" id="api_name" required style="color:gray; width: 100%; border-radius: 4px; font-size: 12px; margin-left: 16px;">
                                                                <option value="get_corporate_auth_token" {% if api_name == 'get_corporate_auth_token' %}  selected {%endif%}>get_corporate_auth_token</option>
                                                                <option value="search_taxi_booking" {% if api_name == 'search_taxi_booking' %}  selected {%endif%}>create_taxi_booking</option>
                                                                <option value="search_taxi_booking" {% if api_name == 'search_taxi_booking' %}  selected {%endif%}>search_taxi_booking</option>
                                                                <option value="create_bus_booking" {% if api_name == 'create_bus_booking' %}  selected {%endif%}>create_bus_booking</option>
                                                                <option value="search_bus_booking" {% if api_name == 'search_bus_booking' %}  selected {%endif%}>search_bus_booking</option>
                                                                <option value="create_train_booking" {% if api_name == 'create_train_booking' %}  selected {%endif%}>create_train_booking</option>
                                                                <option value="search_train_booking" {% if api_name == 'search_train_booking' %}  selected {%endif%}>search_train_booking</option>
                                                                <option value="create_hotel_booking" {% if api_name == 'create_hotel_booking' %}  selected {%endif%}>create_hotel_booking</option>
                                                                <option value="search_hotel_booking" {% if api_name == 'search_hotel_booking' %}  selected {%endif%}>search_hotel_booking</option>
                                                                <option value="create_flight_booking" {% if api_name == 'create_flight_booking' %}  selected {%endif%}>create_flight_booking</option>
                                                                <option value="search_flight_booking" {% if api_name == 'search_flight_booking' %}  selected {%endif%}>search_flight_booking</option>

                                                            </select>

                                                        </div>

                                                    </div>


                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="medium-input input_signupform input_signup" ><strong>HEADER</strong></label>
                                            </div>

                                            <div class="col-md-2">
                                                <label class="medium-input input_signupform input_signup" >Content-Type :</label>
                                            </div>
                                            <div class="col-md-8">
                                                <input type="text" readonly name="header_1" value=" application/json" class="medium-input input_signupform input_signup">
                                            </div>
                                            </div>

                                                 <div class="row" style="display:none;" id="row_auth">
                                            <div class="col-md-2">
                                                    <label class="medium-input input_signupform input_signup" ></label>
                                            </div>

                                            <div class="col-md-2">
                                                <label class="medium-input input_signupform input_signup" >Authorization :</label>
                                            </div>
                                            <div class="col-md-8">
                                                <input type="text" name="auth_value"   value="{% if auth_value %}{{auth_value}}{%endif%}"   class="medium-input input_signupform input_signup">
                                            </div>
                                            </div>



                                            <div class="row">
                                                 <div class="col-md-2">
                                                    <label class="medium-input input_signupform input_signup" ><strong>BODY</strong></label>
                                            </div>
                                                 <div class="col-md-2">
                                                    <label class="medium-input input_signupform input_signup" >json format</label>
                                            </div>
                                            <div class="col-md-8 " >
                                                <textarea name="body_value" rows="5" class="medium-input input_signupform">
{% if body_value %}
{{body_value}}
{% else %}
{
    "corporate_id":"1",
    "user_id":"Cotrav",
    "user_password":"taxi123"
}
{%endif%}

                                                </textarea>
                                            </div>
                                            </div>

                                                     <div class="col-md-2">
                                                            <button style="border-radius: 8px; font-weight: 500;" type="submit" class="btn btn-danger">SEND</button>
                                                        </div>

                                                </form>
                                        </div>
                                        </div>
                                    <br>


                                    <br/>

                                    <h6>[+]Response</h6>
                                    <div class="inner-box bg-white box-shadow-large padding-20px-all md-padding-15px-all sm-margin-20px-bottom">
                                        <!-- start contact form -->
                                        <div class="col-md-12 sm-margin-30px-bottom">
                                            {% if api_data %}
                                            <pre>{{api_data|pprint}}</pre>
                                            {% endif %}
                                        </div>
                                    </div>






                                    </div>
                                </div>

                            </div>


    </section>
    <!-- end about section -->







</div>
<!-- end main-wrapper section -->

<script src="{% static 'assets/plugins/jquery/jquery.min.js' %}" ></script>
<script type="text/javascript">
$(document).ready(function() {
    var valueSelected = $("#api_name").val();
    if(valueSelected != 'get_corporate_auth_token'){
        $('#row_auth').show();
    }else{
        $('#row_auth').hide();
    }
});

$('#api_name').on('change', function (e) {
    var optionSelected = $("option:selected", this);
    var valueSelected = this.value;
    if(valueSelected != 'get_corporate_auth_token'){
        $('#row_auth').show();
    }else{
        $('#row_auth').hide();
    }
});
</script>

{% endblock %}